
//// DEPENDENCIES, MODULES ///////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

import React, { Component } from 'react';


//// IMPORT COMPONENTS, STYLES ////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////

import Comments from '../Comments/Comments'

import './Post.css';





//// COMPONENT CLASS /////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

class Post extends Component {

//// CONSTRUCTOR /////////////////////////////////////////////////////////
  constructor() {
    super()
    this.state = {
      showComments: false
    }
  }



//// TOGGLE SHOW COMMENTS /////////////////////////////////////////////////

  toggleShow = () => {
    this.setState(prevState => ({
      showComments: !prevState.showComments
    }))
  }



//// RENDER //////////////////////////////////////////////////////////////
  render() {

    let photo = `../../${this.props.post.photo}`

//// RETURN //////////////////////////////////////////////////////////////
    return (
      <div className="PostDiv">
        <h4>AUTHOR: {this.props.post.author}</h4>
        <img className="postPhoto" src={photo} alt="post"/>
        <p>TITLE: {this.props.post.title}</p>

        <button onClick={this.toggleShow} className='waves-effect waves-light btn'>

          { this.state.showComments ? 'Hide Comments' : 'Show Comments' }

        </button>

        { this.state.showComments && <Comments comments={this.props.post.comments} /> }


      </div>
    );
  }
}



//// EXPORT COMPONENT ////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

export default Post;





// END ///////////////////////////////////////////////////////////////////
